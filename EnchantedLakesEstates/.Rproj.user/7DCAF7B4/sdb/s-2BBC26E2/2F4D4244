{
    "contents" : "# Enchanted Lakes Estates.r\n\nrequire(ggplot2)                                      # For graphics grammer\n\nrequire(GGally)                                       # For graphics grammar scatterplot \n                                                      # matrix\n\nrequire( car )                                        # For transformations\nrequire( alr4 )                                       # For more transformations \n\n##############################################################################################\n#                                                                                            #\n# Read Enchnated Lakes Estates comma seperated variable and store results in the ELE data    #\n# frame.                                                                                     #\n#                                                                                            #\n##############################################################################################\n\nELE <- read.csv( \"Enchanted Lakes Estates.csv\", \n                 header=TRUE )\nhead( ELE )\n\n#############################################################################################\n#                                                                                           #\n# The describe routine computes the sample size, the mean, the datdard devation, the        #\n# skewness, and the central kutosis of a sample.  It is located in the utaR folder.         #                                             #\n#############################################################################################\n\nsource('~/utaR/describe.r')           \n\n##############################################################################################\n#                                                                                            #\n# Remove variables not used in the analysis.  This includes the city of Arlington and the    #\n# data I recoreded the housing data from Zillow.                                             #\n#                                                                                            #\n##############################################################################################\n\nELE <- ELE[,c(1:2, 5:11)]\nhead(ELE) \n\n##############################################################################################\n#                                                                                            #\n# PLot histogram and density plot for appraised values. Also compute fhe descriptive         #\n# statistics of the appraised price.                                                         #\n#                                                                                            #\n##############################################################################################\n\nggplot( ELE, aes( x=price )) +\n  geom_histogram( aes(y=..density..), \n                  binwidth=100,  fill=\"white\", colour=\"black\" ) +\n  geom_density() +\n  geom_rug() +\n  xlab(\"Price ($K) \") +\n  ylab( \"Density\" ) +\n  ggtitle( \"Enchanted Lakes Estates Zillow Appraised Property Values\" )\n\nwith( ELE, describe( price ))\n( temp <- with( ELE, summary( price )))\n( ratio <- temp[6]/ temp[1])\n\n##############################################################################################\n#                                                                                            #\n# Analyze distribution of square feet.                                                       #                                                \n#                                                                                            #\n##############################################################################################\n\nggplot( ELE, aes( x=sqft )) +\n  geom_histogram( aes(y=..density..), \n                  binwidth=500,  fill=\"white\", colour=\"black\" ) +\n  geom_density( colour=\"blue\" ) +\n  geom_rug() +\n  xlab( \"House size (SQuare Feet)\" ) +\n  ylab( \"Density\" ) +\n  ggtitle( \"Enchanted Lakes Estates House Sizes \" )\n\nwith( ELE, describe( sqft ))\n( temp <- with( ELE, summary( sqft )))\n( ratio <- temp[6]/ temp[1])\n\n#############################################################################################\n#                                                                                           #\n# Investigate a power transformation that will give a linear relationship between sqft and  #\n# price. We use the the function to find the value of lambda that minimizes residuals sums  #\n# of squares. The power transformations are then implied by using the following table       #\n#                                                                                           #\n#                            lambda          Transformation                                 #\n#                             -2.00           tx <- x^-2 provided X>0                       #\n#                             -1.00           tx <- x^-1 provided X>0                       #\n#                              0.00           tx <- log(x) provided x >0                    #\n#                              0.25           tx <- x^(1/4)                                 #\n#                              0.33           tx <- x^(1/3)                                 #\n#                              0.50           tx <- x^(1/2)                                 #\n#                              1.00           No transformation needed                      #\n#                              2.00           tx <- X^2                                     #\n#                                                                                           #\n#############################################################################################\n\nwith( ELE, invTranPlot(  sqft, price  ))\n\n\n#############################################################################################\n#                                                                                           #\n#  We draw a scatter plot between the appraised price of the house.  To this scatterplot    #\n#  we add a fitted OLS regression line, and a smoothed loess line.                          #\n#                                                                                           #\n#############################################################################################\n\nggplot( ELE, aes( x=sqft, y=price )) +\n  geom_smooth( method=lm, se=FALSE, colour=\"black\"  ) +\n  geom_smooth( method=loess, colour=\"red\" ) +\n  geom_point( aes( colour=street  ) ) +\n  xlab( \"House size (Square feet )\" ) +\n  ylab( \"Price ($K)\" ) +\n  ggtitle(  \"Enchanted Lakes Estates: Price versus House Size\" )\n\n\n#############################################################################################\n#                                                                                           #\n# Investigate a power transformation that will give a linear relationship between sqft and  #\n# price. We use the the function to find the value of lambda that minimizes residuals sums  #\n# of squares. The power transformations are then implied by using the following table       #\n#                                                                                           #\n#                            lambda          Transformation                                 #\n#                             -2.00           tx <- x^-2 provided X>0                       #\n#                             -1.00           tx <- x^-1 provided X>0                       #\n#                              0.00           tx <- log(x) provided x >0                    #\n#                              0.25           tx <- x^(1/4)                                 #\n#                              0.33           tx <- x^(1/3)                                 #\n#                              0.50           tx <- x^(1/2)                                 #\n#                              1.00           No transformation needed                      #\n#                              2.00           tx <- X^2                                     #\n#                                                                                           #\n#############################################################################################\n\nwith( ELE, invTranPlot(  sqft, price  ))\n\n\n\n###########################################################################################\n#                                                                                         #\n# Draw histograms of beedrooms                                                            #\n#                                                                                         #\n###########################################################################################\n\nggplot( ELE, aes( x=bedrooms  )) +\n  geom_histogram( aes(y=..density..  ),\n                  binwidth=1, colour=\"black\", fill=\"white\" ) +\n  geom_density( colour=\"red\" ) +\n  xlab( \"Bedrooms\" ) +\n  ylab(  \"Density\" ) +\n  ggtitle( \"Enchanted Lakes Estates: Bedrooms\" )\n\n##########################################################################################\n#                                                                                        #\n# Compute discriptive statistics for bedrooms accrosss the entire sample                 #\n#                                                                                        #\n##########################################################################################\n\n( momentsSummary  <- with( ELE, describe( bedrooms )))\n( quantileSummary <- with( ELE, summary( bedrooms )))\n( maxminRatio    <- quantileSummary[6]  / quantileSummary[1] )\n\n##########################################################################################\n#                                                                                        #\n# Scatterplot of square feet versus bedrooms                                             #\n#                                                                                        #\n##########################################################################################\n\nggplot( ELE, aes( x=bedroom, y=sqft  )) +\n  geom_smooth( method=lm, se=FALSE ) +\n  geom_smooth( method=loess, se=FALSE, colour=\"red\" ) +\n  geom_point( aes( x=bedroom, y=sqft, colour=street )) +\n  xlab( \"Bedrooms\" ) +\n  ylab( \"Housesize (Square feet)\" ) +\n  ggtitle( \"Enchantet Lakes Estates: House size versus number of bed rooms \"  )\n\n\n########################################################################################\n#                                                                                      #\n# Display distribution of bathrooms                                                    #\n#                                                                                      #\n########################################################################################\n\nggplot( ELE, aes( x=baths ) ) +\n  geom_histogram( aes( y=..density.. ), \n                  binwidth=0.5, \n                  colour=\"black\", \n                  fill=\"white\" ) +\n  geom_density() +\n  xlab( \"Bathrooms\" ) +\n  ylab( \"Density\" ) +\n  ggtitle(  \"Enchnated Lake Estates: Bathrooms\" )\n\n########################################################################################\n#                                                                                      #\n# The Box-Cos transformation attempts to take non-normally distributed data and        #\n# transform it it to normally distributed.  We will use the functions that are         #\n# in the alr4 package which is desigend to support Sanford Weisberg's 4th edition      #\n# of APPLIED LINEAR REGRESSION.                                                        #\n#                                                                                      #\n########################################################################################\n\n                \n\ncontinuousPredictors <- with( ELE, matrix( cbind( sqft, bedrooms, baths), ncol=3 ))\n\n(lambdas<-powerTransform( continuousPredictors ))\n\ntestTransform( lambdas, c(1, -0.5, -0.5 ) )\n\nELE$trBedrooms <- with( ELE, bedrooms^-0.5 )\nELE$trBaths    <- with( ELE, baths^-0.5)\n\nfit <- lm( price ~ street + sqft + trBedrooms + trBaths + corner + pool + foreclosed, data=ELE   )\nsummary( fit  )\n",
    "created" : 1410892455095.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1468031161",
    "id" : "2F4D4244",
    "lastKnownWriteTime" : 1412912155,
    "path" : "~/Data/Enchanted Lakes Estates/EchantedLakes.r",
    "project_path" : "EchantedLakes.r",
    "properties" : {
    },
    "source_on_save" : true,
    "type" : "r_source"
}